<!--
  Generated template for the AuctionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Auction</ion-title>
    <ion-buttons padding-right end>
      <button ion-button icon-only (click)="presentWeightPrompt()">
        <ion-icon name="md-funnel"></ion-icon>
      </button>
      <button ion-button icon-only (click)="presentTimePrompt()">
        <ion-icon name="md-alarm"></ion-icon>
      </button>
      <button ion-button icon-only (click)="changeDisplayType()">
        <ion-icon name="{{iconType}}"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <div class="chart">
    <canvas #chartCanvas></canvas>
  </div>

  <div class="address">
    <p>Auction Name: {{(auctionInfo$ | async)?.name}}</p>
    <p>Address: {{(auctionInfo$ | async)?.address}}</p>
    <p>City, State: {{(auctionInfo$ | async)?.city}}, {{(auctionInfo$ | async)?.state}}</p>
    <p>Zip: {{(auctionInfo$ | async)?.zip}}</p>
  </div>

  <hr>

  <h3>Auction Records ({{mostRecentReportDate}})</h3>

  <div class="header">
    <ion-row>
      <ion-col (click)="changeRecordSort('_class')">Class</ion-col>
      <ion-col (click)="changeRecordSort('avg_weight')">Average Weight (lbs.)</ion-col>
      <ion-col (click)="changeRecordSort('muscle_grade')">Muscle Grade</ion-col>
      <ion-col (click)="changeRecordSort('head_count')">Head Count</ion-col>
      <ion-col (click)="changeRecordSort('avg_price')">Price ($ per Cwt)</ion-col>
    </ion-row>
  </div>

  <div class="records">
    <ion-row *ngFor="let record of mostRecentRecords$ | async">
      <ion-col>{{record._class}}</ion-col>
      <ion-col>{{record.avg_weight}}</ion-col>
      <ion-col>{{record.muscle_grade}}</ion-col>
      <ion-col>{{record.head_count}}</ion-col>
      <ion-col>{{record.avg_price}}</ion-col>
    </ion-row>
  </div>


</ion-content>
